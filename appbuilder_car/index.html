<!DOCTYPE html>
<head>
<title>Remote Control Car</title>

<link rel="stylesheet" type="text/css" href="./css/style.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

</head>

<script>

$(document).ready(function(){

	 // 左轉
	 $("#left_control").bind( "mouseup touchend", function(e){
		$("#left_right_control").attr("src", "./images/left_right_control.png");
		var ret = cpf.request('["digitalWrite", 0, 0]');
	 });
	 $("#left_control").bind( "mousedown touchstart", function(e){
		$("#left_right_control").attr("src", "./images/left_event.png");
		var ret = cpf.request('["digitalWrite", 0, 1]');
	 });
	 
	 // 右轉
	 $("#right_control").bind( "mouseup touchend", function(e){
		$("#left_right_control").attr("src", "./images/left_right_control.png");
		var ret = cpf.request('["digitalWrite", 2, 0]');
	 });
	 $("#right_control").bind( "mousedown touchstart", function(e){
		$("#left_right_control").attr("src", "./images/right_event.png");
		var ret = cpf.request('["digitalWrite", 2, 1]');
	 });
	 
	 // 前進
	 $("#top_control").bind( "mouseup touchend", function(e){
		$("#top_bottom_control").attr("src", "./images/top_bottom_control.png");
		var ret = cpf.request('["digitalWrite", 0, 0]');
		var ret = cpf.request('["digitalWrite", 2, 0]');
	 });
	 $("#top_control").bind( "mousedown touchstart", function(e){
		$("#top_bottom_control").attr("src", "./images/top_event.png");
		var ret = cpf.request('["digitalWrite", 0, 1]');
		var ret = cpf.request('["digitalWrite", 2, 1]');
	 });

	 // 後退
	 $("#bottom_control").bind( "mouseup touchend", function(e){
		$("#top_bottom_control").attr("src", "./images/top_bottom_control.png");
		var ret = cpf.request('["digitalWrite", 1, 0]');
		var ret = cpf.request('["digitalWrite", 3, 0]');
	 });
	 $("#bottom_control").bind( "mousedown touchstart", function(e){
		$("#top_bottom_control").attr("src", "./images/bottom_event.png");
		var ret = cpf.request('["digitalWrite", 1, 1]');
		var ret = cpf.request('["digitalWrite", 3, 1]');
	 });

	 // cpf setup
	function setup(){
		if(cpf)
			var ret = cpf.request('["resetPin"],["setPinMode", "digital", 0, "OUTPUT"],["setPinMode", "digital", 1, "OUTPUT"],["setPinMode", "digital", 2, "OUTPUT"],["setPinMode", "digital", 3, "OUTPUT"]'); 
	}
	 
});
</script>

<body>

<center>
<img src="./images/controller.png" id="controller">
<img src="./images/left_right_control.png" id="left_right_control"/>
	<img src="./images/left.png" id="left_control">
	<img src="./images/right.png" id="right_control">
<img src="./images/top_bottom_control.png" id="top_bottom_control"/>
	<img src="./images/top.png" id="top_control">
	<img src="./images/bottom.png" id="bottom_control">
</center>


</body>